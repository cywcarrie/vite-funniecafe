import{c as s,a as t,o,b as l,w as R,d as x,u as n,t as m,j as T,R as G,k as O,s as U,e as v,l as N,m as q,n as C,F as h,p as $,q as D,g as z,v as F,i as K,x as J,S as Q,h as W}from"./index-BrREbNrm.js";import{_ as X}from"./VueLoading-l-VKllCj.js";import{_ as Y}from"./FooterComponent-CrwWYiNG.js";import{r as tt}from"./ExclamationCircleIcon-gQYX5Lt1.js";import"./UserCircleIcon-BhcjD08z.js";function et(a,c){return o(),s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"fill-rule":"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z","clip-rule":"evenodd"})])}function rt(a,c){return o(),s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"fill-rule":"evenodd",d:"M9.47 6.47a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 1 1-1.06 1.06L10 8.06l-3.72 3.72a.75.75 0 0 1-1.06-1.06l4.25-4.25Z","clip-rule":"evenodd"})])}function p(a,c){return o(),s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{d:"M14.916 2.404a.75.75 0 0 1-.32 1.011l-.596.31V17a1 1 0 0 1-1 1h-2.26a.75.75 0 0 1-.75-.75v-3.5a.75.75 0 0 0-.75-.75H6.75a.75.75 0 0 0-.75.75v3.5a.75.75 0 0 1-.75.75h-3.5a.75.75 0 0 1 0-1.5H2V9.957a.75.75 0 0 1-.596-1.372L2 8.275V5.75a.75.75 0 0 1 1.5 0v1.745l10.404-5.41a.75.75 0 0 1 1.012.319ZM15.861 8.57a.75.75 0 0 1 .736-.025l1.999 1.04A.75.75 0 0 1 18 10.957V16.5h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1-.75-.75V9.21a.75.75 0 0 1 .361-.64Z"})])}function ot(a,c){return o(),s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{d:"M1 1.75A.75.75 0 0 1 1.75 1h1.628a1.75 1.75 0 0 1 1.734 1.51L5.18 3a65.25 65.25 0 0 1 13.36 1.412.75.75 0 0 1 .58.875 48.645 48.645 0 0 1-1.618 6.2.75.75 0 0 1-.712.513H6a2.503 2.503 0 0 0-2.292 1.5H17.25a.75.75 0 0 1 0 1.5H2.76a.75.75 0 0 1-.748-.807 4.002 4.002 0 0 1 2.716-3.486L3.626 2.716a.25.25 0 0 0-.248-.216H1.75A.75.75 0 0 1 1 1.75ZM6 17.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0ZM15.5 19a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"})])}const st={class:"flex flex-col group bg-white dark:bg-gray-700 dark:border-gray-500 w-full h-full rounded border border-gray-200 overflow-hidden transition-all duration-300 ease-in-out hover:shadow-sm hover:scale-105"},at=["src"],nt={class:"p-3 flex flex-col grow"},lt={class:"flex items-center text-primary dark:text-gray-200 font-bold mb-2"},it={class:"text-espresso font-extrabold mb-3 text-lg dark:text-white"},dt={class:"flex justify-between items-center mb-3"},ct={key:0,class:"text-base text-gray-500 dark:text-gray-300 line-through"},ut={key:1,class:"font-bold text-lg text-espresso dark:text-gray-100"},xt={key:2,class:"text-lg text-espresso dark:text-gray-100"},mt={class:"pt-0 pb-3 bg-transparent flex flex-col p-3 text-center"},gt=["disabled"],H={__name:"ProductCard",props:{item:{type:Object,required:!0},isDone:{type:[String,Number],default:null}},emits:["get-product","add-cart"],setup(a,{emit:c}){const y=a,w=c;function b(){w("get-product",y.item.id)}function k(){w("add-cart",y.item.id)}return(g,_)=>(o(),s("div",st,[l(n(G),{to:`/product/${a.item.id}`,class:"flex flex-col grow"},{default:R(()=>[t("div",{class:"relative overflow-hidden cursor-pointer",onClick:b},[t("img",{src:a.item.imageUrl,class:"w-full object-cover transform transition-transform duration-300 group-hover:scale-110",alt:"productImages"},null,8,at)]),t("div",nt,[t("div",lt,[l(n(p),{class:"w-5 h-5 text-primary dark:text-gray-200 mr-1"}),x(" "+m(a.item.category),1)]),t("h5",it,m(a.item.title),1),t("div",dt,[a.item.price?(o(),s("div",ct," NT$"+m(g.$format.currency(a.item.origin_price)),1)):T("",!0),a.item.price?(o(),s("div",ut," NT$"+m(g.$format.currency(a.item.price)),1)):(o(),s("div",xt," NT$"+m(g.$format.currency(a.item.origin_price)),1))])])]),_:1},8,["to"]),t("div",mt,[t("button",{type:"button",class:"inline-flex items-center justify-center px-4 py-2 btn-primary font-bold rounded",disabled:a.isDone===a.item.id,onClick:k},[l(n(ot),{class:"w-5 h-5 text-white mr-1"}),_[0]||(_[0]=x(" Add To Cart ",-1))],8,gt)])]))}};function vt(a,c){return o(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function ht(a,c){return o(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18 18 6M6 6l12 12"})])}const ft={VITE_APP_API:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"funniecafeweb-api"},pt={class:"mb-5"},yt={class:"container mx-auto px-6 py-6"},wt={class:"grid grid-cols-1 lg:grid-cols-12 gap-6 my-12"},bt={class:"lg:col-span-3 mb-4 lg:mb-0"},kt={class:"hidden md:block"},_t={class:"text-left divide-y divide-gray-200"},Ct=["aria-current"],$t=["onClick"],Pt={class:"block md:hidden w-full relative"},At={class:"flex items-center"},Tt={key:0,class:"mt-2 bg-white dark:bg-gray-700 rounded-md shadow w-full z-50 absolute"},Vt=["onClick"],Lt={class:"mt-4 mb-3"},Mt={class:"lg:col-span-9"},jt={class:"mb-5"},Bt={class:"flex items-center"},Nt={class:"text-base sm:text-lg md:text-xl dark:text-gray-200"},Dt={class:"text-base sm:text-lg md:text-xl text-primary font-bold ml-1 dark:text-white"},Ht={class:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6"},Zt={key:0,class:"w-full text-center mt-20"},It={key:1,class:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6"},Ut={__name:"UserProducts",setup(a){const{VITE_APP_API:c,VITE_APP_PATH:y}=ft,w=K("$axios"),b=O(),{isDone:k}=U(b),{addCart:g}=b,_=J(),Z=W(),P=v([]),u=v(""),V=v(["Coffee","Cheesecake","Macaron"]),i=v(""),A=v(!1),f=v(!1);function L(){const d=`${c}api/${y}/products/all`;u.value="",A.value=!0,w.get(d).then(e=>{if(e.data.success){P.value=e.data.products;const{productCategory:r}=_.params;r&&(i.value=r)}}).catch(e=>{const r=e.response?.data?.message||"An error occurred. Please try again later.";Q("error",r)}).finally(()=>{A.value=!1})}function I(){u.value="",i.value="",L()}function M(d){i.value=d,f.value=!1}function j(d){Z.push(`/product/${d}`)}const S=N(()=>P.value.filter(d=>d.category.match(i.value))),B=N(()=>P.value.filter(d=>d.title.toLowerCase().includes(u.value.toLowerCase())||d.category.toLowerCase().includes(u.value.toLowerCase())));return q(()=>{L()}),(d,e)=>(o(),s(h,null,[l(X,{active:A.value},null,8,["active"]),t("section",pt,[t("div",yt,[e[12]||(e[12]=t("div",{class:"banner banner1 h-[35vh] min-h-40 max-h-150 md:h-[50vh] md:min-h-50 flex justify-center items-center my-10 relative"},[t("h2",{class:"banner-title text-white font-extrabold text-3xl text-center absolute"}," Our Products ")],-1)),t("div",wt,[t("div",bt,[t("div",kt,[e[6]||(e[6]=t("h3",{class:"text-left text-primary pb-3 font-bold text-xl border-b-2 border-primary dark:text-white dark:border-gray-200"}," Products ",-1)),t("div",_t,[t("button",{type:"button",class:C(["w-full text-left px-4 py-2 font-bold hover:bg-gray-100 dark:hover:bg-gray-700 text-espresso dark:text-gray-200 transition-colors ease-in-out duration-300 flex items-center cursor-pointer",i.value===""?"bg-primary/20 text-primary dark:bg-secondary/20 dark:text-gray-200":""]),onClick:e[0]||(e[0]=r=>i.value=""),"aria-current":i.value===""?"true":null},[l(n(p),{class:"w-5 h-5 text-primary dark:text-gray-200 mr-2"}),e[5]||(e[5]=x(" All ",-1))],10,Ct),(o(!0),s(h,null,$(V.value,r=>(o(),s("button",{key:`category-${r}`,type:"button",class:C(["w-full text-left px-4 py-2 font-bold hover:bg-gray-100 dark:hover:bg-gray-700 dark:text-gray-200 duration-300 transition-colors ease-in-out flex items-center cursor-pointer",r===i.value?"bg-primary/20 text-primary dark:bg-secondary/20 dark:text-gray-200":""]),onClick:E=>i.value=r},[l(n(p),{class:"w-5 h-5 text-primary dark:text-gray-200 mr-2"}),x(" "+m(r),1)],10,$t))),128))])]),t("div",Pt,[t("button",{onClick:e[1]||(e[1]=r=>f.value=!f.value),class:"w-full py-2 px-4 bg-secondary text-white font-bold rounded flex justify-center items-center cursor-pointer"},[t("span",At,[e[7]||(e[7]=x(" Products ",-1)),f.value?(o(),D(n(rt),{key:1,class:"w-5 h-5 ml-2 text-white"})):(o(),D(n(et),{key:0,class:"w-5 h-5 ml-2 text-white"}))])]),f.value?(o(),s("div",Tt,[t("button",{onClick:e[2]||(e[2]=r=>M("")),class:C(["w-full text-left px-4 py-2 font-bold flex items-center cursor-pointer duration-300 transition-colors ease-in-out",i.value===""?"bg-primary/20 text-primary dark:bg-secondary/20 dark:text-white":"text-espresso hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-600"])},[l(n(p),{class:"w-5 h-5 text-primary dark:text-white mr-2"}),e[8]||(e[8]=x("All ",-1))],2),(o(!0),s(h,null,$(V.value,r=>(o(),s("button",{key:r,onClick:E=>M(r),class:C(["w-full text-left px-4 py-2 font-bold flex items-center cursor-pointer duration-300 ease-in-out transition-colors",i.value===r?"bg-primary/20 text-primary dark:bg-secondary/20 dark:text-white":"text-espresso hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-600"])},[l(n(p),{class:"w-5 h-5 text-primary dark:text-white mr-2"}),x(" "+m(r),1)],10,Vt))),128))])):T("",!0)]),t("div",Lt,[z(t("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=r=>u.value=r),placeholder:"Keywords...",class:"form-control border-primary rounded border-2 border-solid"},null,512),[[F,u.value]])])]),t("div",Mt,[u.value?(o(),s(h,{key:0},[t("div",jt,[t("div",Bt,[t("div",Nt,[e[9]||(e[9]=x(" The following shows the results of ",-1)),t("span",Dt,m(u.value),1)]),t("button",{type:"button",onClick:e[4]||(e[4]=r=>I()),class:"inline-flex items-center ml-2 border border-red-500 text-red-500 dark:text-red-400 dark:border-red-400 px-2 sm:px-3 py-1 uppercase rounded hover:bg-red-100 transition-colors duration-300 ease-in-out text-xs sm:text-sm cursor-pointer"},[l(n(vt),{class:"w-5 h-5 hidden sm:block"}),l(n(ht),{class:"w-5 h-5 block sm:hidden"}),e[10]||(e[10]=t("span",{class:"hidden sm:inline ml-1"},"Cancel",-1))])])]),t("div",Ht,[(o(!0),s(h,null,$(B.value,r=>(o(),s("div",{key:r.id,class:"max-w-sm mx-auto w-full"},[l(H,{item:r,isDone:n(k),onGetProduct:j,onAddCart:n(g)},null,8,["item","isDone","onAddCart"])]))),128))]),B.value.length===0?(o(),s("div",Zt,[e[11]||(e[11]=t("p",{class:"font-extrabold text-2xl dark:text-white"},"No products found",-1)),l(n(tt),{class:"w-16 h-16 text-gray-400 mx-auto mt-4 dark:text-white"})])):T("",!0)],64)):(o(),s("div",It,[(o(!0),s(h,null,$(S.value,r=>(o(),s("div",{key:r.id,class:"max-w-sm mx-auto w-full"},[l(H,{item:r,isDone:n(k),onGetProduct:j,onAddCart:n(g)},null,8,["item","isDone","onAddCart"])]))),128))]))])])])]),l(Y)],64))}};export{Ut as default};
