import{c as n,o as s,a as t,e as q,k as V,s as L,m as M,b as d,u as r,j as p,w as m,R as y,d as i,F as w,p as S,q as D,t as c,g as _,v as C}from"./index-BrREbNrm.js";import{_ as F}from"./VueLoading-l-VKllCj.js";import{_ as U}from"./FooterComponent-CrwWYiNG.js";import{r as A}from"./ArrowLeftIcon-NRqwm5PG.js";import"./UserCircleIcon-BhcjD08z.js";function E(b,l){return s(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 12h14"})])}function I(b,l){return s(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})])}function f(b,l){return s(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})])}const P={class:"mb-5"},R={class:"container mx-auto px-6 py-6"},O={class:"my-12"},Q={key:0,class:"py-10 md:py-12"},G={class:"flex flex-col lg:flex-row gap-6 mt-4 mb-10"},H={class:"w-full lg:w-2/3"},Y={class:"flex justify-end mb-4"},z=["onClick"],J={class:"ml-2 inline-block bg-yellow-200 text-yellow-900 text-xs font-medium px-2 py-0.5 rounded-full select-none"},K={class:"flex items-center gap-2 justify-center shrink-0 w-40 text-center"},W=["disabled","onClick"],X=["onUpdate:modelValue"],Z=["disabled","onClick"],tt={class:"font-semibold shrink-0 w-24 text-right ml-auto hidden dark:text-gray-200 lg:block"},et={class:"ml-4 shrink-0 hidden lg:block"},rt=["onClick"],ot={class:"flex items-center lg:hidden w-full"},st={class:"font-semibold text-center dark:text-gray-200 w-1/3"},at={class:"w-1/3 flex justify-end"},dt=["onClick"],nt={class:"w-full lg:w-1/3 mt-6 lg:mt-0"},lt={class:"border border-primary dark:border-gray-500 shadow rounded"},it={class:"p-6 bg-white dark:bg-gray-800 dark:text-white rounded-b"},ct={class:"mb-4 space-y-4 text-base border-b pb-4"},ut={class:"flex justify-between"},xt={key:0,class:"flex justify-between text-green-700 font-semibold bg-green-100 px-2 py-1"},pt={class:"flex items-center mb-4 gap-2"},bt={class:"flex items-center mb-4"},mt={key:0,class:"w-full flex mb-4"},yt={class:"text-2xl font-bold text-center py-5"},ft={key:1,class:"py-20 md:py-24"},kt={class:"text-center pt-4 max-w-xl mx-auto"},Ct={__name:"UserCart",setup(b){const l=q(""),k=V(),{cart:a,isLoading:$}=L(k),{getCart:j,updateCart:g,removeCartItem:h,deleteAllCart:v,getProduct:T,addCouponCode:B,copyCouponCode:N}=k;return M(()=>{j()}),(x,e)=>(s(),n(w,null,[d(F,{active:r($)},null,8,["active"]),t("section",P,[t("div",R,[e[15]||(e[15]=t("div",{class:"banner banner1 h-[35vh] min-h-40 max-h-150 md:h-[50vh] md:min-h-50 flex justify-center items-center my-10 relative"},[t("h2",{class:"banner-title text-white font-extrabold text-3xl text-center absolute"}," Shopping Cart ")],-1)),t("div",O,[d(r(y),{to:"/products",class:"text-black flex items-center hover:underline dark:text-white"},{default:m(()=>[d(r(A),{class:"w-5 h-5 mr-2"}),e[4]||(e[4]=i(" Back to All Products ",-1))]),_:1}),r(a).total!==0?(s(),n("div",Q,[e[12]||(e[12]=t("div",{class:"d-flex justify-content-center"},[t("h2",{class:"font-bold text-black mb-6 md:mb-8 lg:mb-10 text-xl md:text-2xl dark:text-white"}," Your Cart ")],-1)),t("div",G,[t("div",H,[t("div",Y,[t("button",{type:"button",class:"flex items-center border border-red-600 text-red-600 dark:border-red-400 dark:text-red-400 px-4 py-2 rounded hover:bg-red-100 transition cursor-pointer text-sm md:text-base",onClick:e[0]||(e[0]=(...o)=>r(v)&&r(v)(...o))},[d(r(f),{class:"w-5 h-5 mr-1"}),e[5]||(e[5]=i(" Clear Cart ",-1))])]),(s(!0),n(w,null,S(r(a).carts,o=>(s(),n("div",{key:o.id,class:"flex flex-col lg:flex-row items-center gap-4 bg-white dark:bg-gray-900 dark:border-2 dark:border-gray-500 p-4 rounded shadow mb-4"},[t("div",{class:"text-primary font-semibold cursor-pointer dark:text-white hover:text-secondary flex-1 min-w-0 text-left",onClick:u=>r(T)(o.product_id)},[i(c(o.product.title),1),t("span",J,"( "+c(o.product.category)+" )",1)],8,z),t("div",K,[t("button",{type:"button",class:"border border-primary text-primary dark:text-secondary dark:border-secondary px-2 py-1 disabled:cursor-not-allowed disabled:opacity-50 cursor-pointer rounded","aria-label":"Minus Quantity",disabled:o.qty===1,onClick:u=>(o.qty--,r(g)(o))},[d(r(E),{class:"w-4 h-4 mx-auto"})],8,W),_(t("input",{type:"form",class:"w-16 text-center border border-gray-300 rounded dark:text-gray-200",min:"1",max:"99","onUpdate:modelValue":u=>o.qty=u},null,8,X),[[C,o.qty,void 0,{number:!0}]]),t("button",{type:"button",class:"border border-primary text-primary dark:text-secondary dark:border-secondary px-2 py-1 rounded disabled:cursor-not-allowed disabled:opacity-50 cursor-pointer","aria-label":"Plus Quantity",disabled:o.qty===99,onClick:u=>(o.qty++,r(g)(o))},[d(r(I),{class:"w-4 h-4 mx-auto"})],8,Z)]),t("div",tt,c(x.$format.currency(o.total)),1),t("div",et,[t("button",{onClick:u=>r(h)(o.id),"aria-label":"Delete Item",class:"text-red-600 text-xl hover:text-red-700 dark:text-red-400 cursor-pointer"},[d(r(f),{class:"w-5 h-5"})],8,rt)]),t("div",ot,[e[6]||(e[6]=t("div",{class:"w-1/3"},null,-1)),t("div",st,c(x.$format.currency(o.total)),1),t("div",at,[t("button",{onClick:u=>r(h)(o.id),"aria-label":"Delete Item",class:"text-red-600 dark:text-red-400 text-xl hover:text-red-700 cursor-pointer"},[d(r(f),{class:"w-5 h-5"})],8,dt)])])]))),128))]),t("div",nt,[t("div",lt,[e[11]||(e[11]=t("div",{class:"bg-[#f5efe7] py-4 px-6 text-center border-b border-gray-400 dark:bg-gray-600 rounded-t"},[t("h3",{class:"text-lg font-bold text-black dark:text-white"},"Order Total")],-1)),t("div",it,[t("ul",ct,[t("li",ut,[e[7]||(e[7]=t("span",null,"Total",-1)),t("span",null,"NT$ "+c(x.$format.currency(r(a).total)),1)]),r(a).final_total!==r(a).total?(s(),n("li",xt,[e[8]||(e[8]=t("span",null,"Specialï¼š",-1)),t("span",null,"NT$ "+c(x.$format.currency(r(a).final_total)),1)])):p("",!0)]),t("div",pt,[e[9]||(e[9]=t("span",{class:"font-bold whitespace-nowrap dark:text-gray-100"},[i(" GET "),t("span",{class:"text-2xl font-extrabold text-[#a86612] dark:text-[#e49b3d]"},"20%"),i(" OFF ")],-1)),t("button",{onClick:e[1]||(e[1]=o=>r(N)(l.value)),class:"btn-outline-primary px-4 py-2 text-sm md:text-base rounded dark:border-gray-300 dark:text-gray-300 dark:hover:bg-gray-600"}," Copy Code ")]),t("div",bt,[r(a).total!==0?(s(),n("div",mt,[_(t("input",{type:"text",class:"flex-1 border border-primary dark:border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400 text-sm md:text-base","onUpdate:modelValue":e[2]||(e[2]=o=>l.value=o),placeholder:"Enter coupon code"},null,512),[[C,l.value]]),t("button",{class:"btn-outline-primary rounded px-4 py-2 text-sm md:text-base ml-2 dark:border-gray-300 dark:text-gray-300 dark:hover:bg-gray-600",type:"button",onClick:e[3]||(e[3]=o=>r(B)(l.value))}," Apply ")])):p("",!0)]),t("h4",yt," NT$ "+c(x.$format.currency(r(a).final_total)),1),r(a).total!==0?(s(),D(r(y),{key:0,class:"block text-center btn-primary py-2 text-base font-bold uppercase tracking-wide rounded",to:"/checkout"},{default:m(()=>[...e[10]||(e[10]=[i(" Checkout ",-1)])]),_:1})):p("",!0)])])])])])):p("",!0),r(a).total===0?(s(),n("div",ft,[t("div",kt,[e[14]||(e[14]=t("p",{class:"font-bold text-lg md:text-xl lg:text-2xl mb-6 md:mb-8 dark:text-white"}," There are no items in your cart. ",-1)),d(r(y),{class:"btn-primary text-base font-bold md:text-lg px-4 py-2 rounded",to:"/products"},{default:m(()=>[...e[13]||(e[13]=[i("Shop Now !",-1)])]),_:1})])])):p("",!0)])])]),d(U)],64))}};export{Ct as default};
